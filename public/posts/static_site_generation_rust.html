<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=, initial-scale=" />
    <title></title>
    <link href="/css/output.css" rel="stylesheet" />
  </head>
  <body>
    <div
      class="w-full flex flex-col sm:flex-row sm:justify-center content-center gap-1 text-center border-b"
    >
      <a href="/index.html">Home</a>
      <a href="/blog.html">Blog</a>
      <a href="/portfolio.html">Portfolio</a>
    </div>
    <div><div class="border-b py-2 flex justify-center">
  <div class="w-3/4 lg:w-2/3">
    <div class="text-6xl">Static Site Generation using Rust</div>
    <h5>Author: Tage Danielsson</h5>
    <h5>Date: 2024-07-12</h5>
  </div>
</div>
<div class="w-full flex justify-center">
  <div class="py-2 w-3/4 lg:w-2/3"><p>I have for a long time wanted to build a website where I could have my own blog and project portfolio.
To acheive this the first thing that came to mind was to spin up a fast server in python (since I have some
experience using flask) and than host it with something like python anywhere.
But then I realised that the site I wanted to create (this site) barely needed any interactivity
and it would be unneccesary too write a server for it. Instead I looked into static site generation tools like
<a href="https://gohugo.io/">HUGO</a> since I knew i wanted to easely be able to convert markdown content into static pages
wich I could then host using a static-site-server (something like <a href="https://pages.github.com/">Github Pages</a>).
I decided that this would be a little bit boring since it seemed to easy. Instead I wanted to create my own
static site generation framework called stat-site-framework using my very favorite language rust.</p>
<p>That was all the backstory to how this started. Next up, let's talk dependencies!
I am a strong believer that in most cases it's best to choose dependencies that are
specialized on the one task that you want it to do for you. This way you know why you're
using the dependencies you're using and you know when to reach for them. You also reduce
your applications overhead and compile times by choosing smaller specialized dependencies.
That said the dependencies I chose were:</p>
<pre><code>[dependencies]
  pulldown-cmark = "0.11.0" # used to parse markdown files into html
  handlebars = "5.1.2" # templating engine for generating html
  yaml-front-matter = "0.1.0" # Used for extracting metadata from markdown files
  serde = "1.0.204" # Used for Serializing and Deserializing metadata and json data
  serde_json = "1.0.120" # used to handle json data (required by handlebars)
</code></pre>
<p>Now let's look at how you might use the framework to get a better Idea of
what structures and functions this framework provides and what the api looks like.
This is the code (rust code) for this website:</p>
<pre><code>use serde::{Deserialize, Serialize};
use serde_json::json;
use stat_site_framework::*;

// Post metadata
#[derive(Deserialize, Serialize)]
struct Metadata {
    title: String,
    author: String,
    description: String,
    tags: Vec&lt;String&gt;,
    date: String,
    path: String,
}

fn main() {
    generator::MarkdownSiteGenerator::default()
        .add_file_path(
            "blog",
            (
                "base",
                json!({"title": "Blog"}),
                (
                    "blog",
                    (
                        "post_list",
                        json!({"posts": markdown_utils::get_all_metadata::&lt;Metadata&gt;("./content/posts")}),
                    ),
                ),
            ),
        )
        .add_content_folder_path::&lt;Metadata&gt;("posts/", ("base", "post"))
        .add_file_path("index", ("base", json!({"title": "TageDan"}), ("index")))
        .add_file_path("portfolio", ("base", json!({"title": "TageDan"}), ("index")));
}
</code></pre>
<p>And the file structure looks something like this:</p>
<ul>
<li>blog/
<ul>
<li>src/
<ul>
<li>main.rs</li>
</ul>
</li>
<li>content/
<ul>
<li>posts/
<ul>
<li>(markdown content files)</li>
</ul>
</li>
</ul>
</li>
<li>public/
<ul>
<li>(outputed static files)</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
  </body>
</html>
